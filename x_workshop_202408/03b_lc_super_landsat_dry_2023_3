/**** Start of imports. If edited, may not auto-convert in the playground. ****/
var mcd43a4_202306 = ee.Image("users/servirbz/compil_imagery/optical/modis/mcd43a4_bz/bz_mcd43a4_2023-06"),
    l9_20230608 = ee.Image("users/servirbz/compil_imagery/optical/landsat/bz_landsat_boa/bz_20230608_l9_refl"),
    s2_20230608 = ee.Image("users/servirbz/compil_imagery/optical/sentinel2/bz_s2_boa/bz_sentinel2_boa_2023-06-08_20m_cl"),
    ps = ee.Image("projects/bz-sdg/compil_imagery/optical/planet/bz_planetscope_2023_06"),
    Forestlands = 
    /* color: #3d9b17 */
    /* shown: false */
    /* displayProperties: [
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      }
    ] */
    ee.Geometry.MultiPolygon(
        [[[[-89.07565430289841, 17.48156363623115],
           [-89.07565430289841, 17.47042945387804],
           [-89.06192139274216, 17.47042945387804],
           [-89.06192139274216, 17.48156363623115]]],
         [[[-88.95858124381638, 17.45634701272249],
           [-88.95858124381638, 17.445211288598866],
           [-88.94416168815232, 17.445211288598866],
           [-88.94416168815232, 17.45634701272249]]],
         [[[-88.96264473853194, 16.380958681081164],
           [-88.96264473853194, 16.367782775402905],
           [-88.95234505591475, 16.367782775402905],
           [-88.95234505591475, 16.380958681081164]]],
         [[[-88.87475411353194, 16.467568052674636],
           [-88.87475411353194, 16.454727276299042],
           [-88.86479775366865, 16.454727276299042],
           [-88.86479775366865, 16.467568052674636]]],
         [[[-89.10272042212569, 16.78863817527554],
           [-89.10272042212569, 16.78863817527554],
           [-89.10272042212569, 16.78863817527554],
           [-89.10272042212569, 16.78863817527554]]],
         [[[-89.10066048560225, 16.79192503920426],
           [-89.10066048560225, 16.78272167685105],
           [-89.09345070777022, 16.78272167685105],
           [-89.09345070777022, 16.79192503920426]]],
         [[[-88.97913235177982, 16.926365108890774],
           [-88.97913235177982, 16.92586216928827],
           [-88.97843497743595, 16.92586216928827],
           [-88.97843497743595, 16.926365108890774]]],
         [[[-89.02249428180492, 16.978666561235674],
           [-89.02249428180492, 16.974890400102186],
           [-89.01682945636547, 16.974890400102186],
           [-89.01682945636547, 16.978666561235674]]],
         [[[-88.28338805253772, 17.33877339995409],
           [-88.28338805253772, 17.33877339995409],
           [-88.28338805253772, 17.33877339995409],
           [-88.28338805253772, 17.33877339995409]]],
         [[[-88.28278723771838, 17.33942884266658],
           [-88.28278723771838, 17.338978226053225],
           [-88.28231516893176, 17.338978226053225],
           [-88.28231516893176, 17.33942884266658]]],
         [[[-88.27998194670664, 17.34880982975066],
           [-88.27998194670664, 17.34850260698055],
           [-88.27958497977244, 17.34850260698055],
           [-88.27958497977244, 17.34880982975066]]],
         [[[-88.28779253935801, 17.3487074222178],
           [-88.28779253935801, 17.348359236178375],
           [-88.28723463988291, 17.348359236178375],
           [-88.28723463988291, 17.3487074222178]]],
         [[[-88.22447219844742, 17.507589302297333],
           [-88.22447219844742, 17.506954926775872],
           [-88.2232276534645, 17.506954926775872],
           [-88.2232276534645, 17.507589302297333]]],
         [[[-88.227819595298, 17.50861248395358],
           [-88.227819595298, 17.50816228473496],
           [-88.2272616958229, 17.50816228473496],
           [-88.2272616958229, 17.50861248395358]]],
         [[[-88.32161114006, 17.68140009071626],
           [-88.32161114006, 17.67600278986894],
           [-88.31422970085102, 17.67600278986894],
           [-88.31422970085102, 17.68140009071626]]],
         [[[-88.30873653678852, 17.740269198996618],
           [-88.30873653678852, 17.73765320453175],
           [-88.30375835685687, 17.73765320453175],
           [-88.30375835685687, 17.740269198996618]]],
         [[[-88.77849256032188, 16.763962609503196],
           [-88.77849256032188, 16.740292439609576],
           [-88.75102674000938, 16.740292439609576],
           [-88.75102674000938, 16.763962609503196]]],
         [[[-88.88649317952739, 17.67598222702533],
           [-88.88649317952739, 17.675913226383706],
           [-88.88642075988399, 17.675913226383706],
           [-88.88642075988399, 17.67598222702533]]],
         [[[-88.89822994491942, 17.637253094431063],
           [-88.89822994491942, 17.637171298292643],
           [-88.89812265655883, 17.637171298292643],
           [-88.89812265655883, 17.637253094431063]]],
         [[[-88.90493509413407, 17.631680610736726],
           [-88.90493509413407, 17.6309035218987],
           [-88.9039480412166, 17.6309035218987],
           [-88.9039480412166, 17.631680610736726]]],
         [[[-88.95743412822667, 17.66869618281428],
           [-88.95743412822667, 17.667469451092053],
           [-88.95631832927647, 17.667469451092053],
           [-88.95631832927647, 17.66869618281428]]],
         [[[-89.08989938079179, 17.875878922359732],
           [-89.08989938079179, 17.874898674435652],
           [-89.0885690051204, 17.874898674435652],
           [-89.0885690051204, 17.875878922359732]]],
         [[[-89.1015723544246, 17.882740506363568],
           [-89.1015723544246, 17.881515242948048],
           [-89.0997699099666, 17.881515242948048],
           [-89.0997699099666, 17.882740506363568]]],
         [[[-88.30127542205146, 17.848928477429382],
           [-88.30127542205146, 17.847988930869217],
           [-88.30003087706855, 17.847988930869217],
           [-88.30003087706855, 17.848928477429382]]]], null, false),
    Croplands = 
    /* color: #f7fb3e */
    /* shown: false */
    /* displayProperties: [
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      }
    ] */
    ee.Geometry.MultiPolygon(
        [[[[-88.70207419132743, 17.362664698604487],
           [-88.70207419132743, 17.360862453875495],
           [-88.69992842411551, 17.360862453875495],
           [-88.69992842411551, 17.362664698604487]]],
         [[[-88.69151701664481, 17.36864474730241],
           [-88.69151701664481, 17.36725215065696],
           [-88.68962874149832, 17.36725215065696],
           [-88.68962874149832, 17.36864474730241]]],
         [[[-88.7530576202825, 17.378392627349132],
           [-88.7530576202825, 17.37691819140735],
           [-88.75065436100516, 17.37691819140735],
           [-88.75065436100516, 17.378392627349132]]],
         [[[-88.78744999823742, 17.432156813380004],
           [-88.78744999823742, 17.429945805459706],
           [-88.78470341620617, 17.429945805459706],
           [-88.78470341620617, 17.432156813380004]]],
         [[[-88.76067082343273, 17.414631793303887],
           [-88.76067082343273, 17.412584368153375],
           [-88.757838410713, 17.412584368153375],
           [-88.757838410713, 17.414631793303887]]],
         [[[-88.35631700883506, 16.707368002840887],
           [-88.35631700883506, 16.705970472065378],
           [-88.35357042680381, 16.705970472065378],
           [-88.35357042680381, 16.707368002840887]]],
         [[[-88.36108061204551, 16.707326899140586],
           [-88.36108061204551, 16.706381511590802],
           [-88.35966440568565, 16.706381511590802],
           [-88.35966440568565, 16.707326899140586]]],
         [[[-88.32820745835899, 16.70153118880128],
           [-88.32820745835899, 16.700298036244657],
           [-88.32606169114707, 16.700298036244657],
           [-88.32606169114707, 16.70153118880128]]],
         [[[-88.49460260018243, 16.503282012231058],
           [-88.49460260018243, 16.503282012231058],
           [-88.49460260018243, 16.503282012231058],
           [-88.49460260018243, 16.503282012231058]]],
         [[[-88.49451676949396, 16.503282012231058],
           [-88.49451676949396, 16.501841848543204],
           [-88.49245683297052, 16.501841848543204],
           [-88.49245683297052, 16.503282012231058]]],
         [[[-88.49563256844415, 16.494352824512774],
           [-88.49563256844415, 16.49344753823254],
           [-88.4940017853631, 16.49344753823254],
           [-88.4940017853631, 16.494352824512774]]],
         [[[-88.3525501143297, 16.856891347799586],
           [-88.3525501143297, 16.85636768724486],
           [-88.35162743442858, 16.85636768724486],
           [-88.35162743442858, 16.856891347799586]]],
         [[[-88.35055455082262, 16.858924369149975],
           [-88.35055455082262, 16.85829803661935],
           [-88.34951385372484, 16.85829803661935],
           [-88.34951385372484, 16.858924369149975]]],
         [[[-88.35547908657396, 16.85852392727944],
           [-88.35547908657396, 16.85792839677526],
           [-88.35469588154162, 16.85792839677526],
           [-88.35469588154162, 16.85852392727944]]],
         [[[-88.95586315677903, 16.231897995100415],
           [-88.95586315677903, 16.230538236555965],
           [-88.95410362766526, 16.230538236555965],
           [-88.95410362766526, 16.231897995100415]]],
         [[[-88.95097080753587, 16.235688787495878],
           [-88.95097080753587, 16.234699892172294],
           [-88.94951168583177, 16.234699892172294],
           [-88.94951168583177, 16.235688787495878]]],
         [[[-88.94740883396409, 16.227365430087666],
           [-88.94740883396409, 16.226088052006126],
           [-88.94586388157151, 16.226088052006126],
           [-88.94586388157151, 16.227365430087666]]],
         [[[-88.9874893348217, 16.207577264555788],
           [-88.9874893348217, 16.20551676627075],
           [-88.98534356760979, 16.20551676627075],
           [-88.98534356760979, 16.207577264555788]]],
         [[[-89.18454171342145, 16.01103010165013],
           [-89.18454171342145, 16.01045259243476],
           [-89.18368340653669, 16.01045259243476],
           [-89.18368340653669, 16.01103010165013]]],
         [[[-89.18299676102887, 16.016021361686814],
           [-89.18299676102887, 16.015526366265924],
           [-89.1823530308653, 16.015526366265924],
           [-89.1823530308653, 16.016021361686814]]],
         [[[-89.2034640884358, 15.996045355855514],
           [-89.2034640884358, 15.99595253502484],
           [-89.20334338903012, 15.99595253502484],
           [-89.20334338903012, 15.996045355855514]]],
         [[[-89.2033568000752, 15.995607034887344],
           [-89.2033568000752, 15.995514213853088],
           [-89.20322000741544, 15.995514213853088],
           [-89.20322000741544, 15.995607034887344]]],
         [[[-89.18450500137456, 15.954653158020136],
           [-89.18450500137456, 15.954395268942958],
           [-89.18427969581731, 15.954395268942958],
           [-89.18427969581731, 15.954653158020136]]],
         [[[-89.18658639557012, 15.956087015237298],
           [-89.18658639557012, 15.955963229407343],
           [-89.18638254768499, 15.955963229407343],
           [-89.18638254768499, 15.956087015237298]]],
         [[[-89.17954827911504, 15.955197302884187],
           [-89.17954827911504, 15.955109620873253],
           [-89.17942757970937, 15.955109620873253],
           [-89.17942757970937, 15.955197302884187]]],
         [[[-89.08692180541544, 17.328903229592772],
           [-89.08692180541544, 17.32839113581227],
           [-89.0863209905961, 17.32839113581227],
           [-89.0863209905961, 17.328903229592772]]]], null, false),
    Grasslands = 
    /* color: #ffdb52 */
    /* shown: false */
    /* displayProperties: [
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      }
    ] */
    ee.Geometry.MultiPolygon(
        [[[[-88.48483338631654, 16.464173059066187],
           [-88.48483338631654, 16.46397756942845],
           [-88.4844471482184, 16.46397756942845],
           [-88.4844471482184, 16.464173059066187]]],
         [[[-88.49457516945863, 16.462928095372146],
           [-88.49457516945863, 16.46270173747799],
           [-88.4943176773932, 16.46270173747799],
           [-88.4943176773932, 16.462928095372146]]],
         [[[-88.45627279471402, 16.583845230076122],
           [-88.45627279471402, 16.583505905639985],
           [-88.4558007259274, 16.583505905639985],
           [-88.4558007259274, 16.583845230076122]]],
         [[[-88.45250697325712, 16.58553156082035],
           [-88.45250697325712, 16.58530534657896],
           [-88.4522172946835, 16.58530534657896],
           [-88.4522172946835, 16.58553156082035]]],
         [[[-88.46630962084775, 16.58455472469048],
           [-88.46630962084775, 16.584328509300466],
           [-88.46600384902005, 16.584328509300466],
           [-88.46600384902005, 16.58455472469048]]],
         [[[-88.42356465684598, 16.617362122323037],
           [-88.42356465684598, 16.61701257628332],
           [-88.4230818592233, 16.61701257628332],
           [-88.4230818592233, 16.617362122323037]]],
         [[[-88.50480407655739, 17.39995606928004],
           [-88.50480407655739, 17.399741073453008],
           [-88.50451439798378, 17.399741073453008],
           [-88.50451439798378, 17.39995606928004]]],
         [[[-88.4901270288279, 17.40450163615297],
           [-88.4901270288279, 17.404327596259144],
           [-88.48990708768868, 17.404327596259144],
           [-88.48990708768868, 17.40450163615297]]],
         [[[-88.4885606187632, 17.404972566799476],
           [-88.4885606187632, 17.404813883782396],
           [-88.48840505064034, 17.404813883782396],
           [-88.48840505064034, 17.404972566799476]]],
         [[[-88.47423225820565, 17.411601298770485],
           [-88.47423225820565, 17.411437502885775],
           [-88.4740069526484, 17.411437502885775],
           [-88.4740069526484, 17.411601298770485]]],
         [[[-88.4599094009533, 17.413154476433697],
           [-88.4599094009533, 17.412888310309324],
           [-88.45950170518303, 17.412888310309324],
           [-88.45950170518303, 17.413154476433697]]],
         [[[-89.07561363567444, 17.336992871770082],
           [-89.07561363567444, 17.336777802033446],
           [-89.07530786384675, 17.336777802033446],
           [-89.07530786384675, 17.336992871770082]]],
         [[[-89.0745622097406, 17.333797524027684],
           [-89.0745622097406, 17.333551725743597],
           [-89.07425107349488, 17.333551725743597],
           [-89.07425107349488, 17.333797524027684]]],
         [[[-89.07362678383292, 17.332375658712703],
           [-89.07362678383292, 17.332037683369606],
           [-89.07317617271842, 17.332037683369606],
           [-89.07317617271842, 17.332375658712703]]],
         [[[-89.07183506821097, 17.33270339178456],
           [-89.07183506821097, 17.332447350372167],
           [-89.07154538963736, 17.332447350372167],
           [-89.07154538963736, 17.33270339178456]]],
         [[[-89.06807997559012, 17.333543205110658],
           [-89.06807997559012, 17.333358856173056],
           [-89.06783321236075, 17.333358856173056],
           [-89.06783321236075, 17.333543205110658]]],
         [[[-89.05412142424521, 17.369386717805117],
           [-89.05412142424521, 17.369292001473042],
           [-89.05403559355673, 17.369292001473042],
           [-89.05403559355673, 17.369386717805117]]],
         [[[-89.04464604937314, 17.36914224005484],
           [-89.04464604937314, 17.369065442930093],
           [-89.04455217205762, 17.369065442930093],
           [-89.04455217205762, 17.36914224005484]]],
         [[[-89.03902141586522, 17.367471015702094],
           [-89.03902141586522, 17.367471015702094],
           [-89.03902141586522, 17.367471015702094],
           [-89.03902141586522, 17.367471015702094]]],
         [[[-89.0390173925517, 17.367472295665575],
           [-89.0390173925517, 17.367456936103185],
           [-89.03900129929761, 17.367456936103185],
           [-89.03900129929761, 17.367472295665575]]],
         [[[-89.03898386493901, 17.3674428565032],
           [-89.03898386493901, 17.367415977263843],
           [-89.03894765511731, 17.367415977263843],
           [-89.03894765511731, 17.3674428565032]]],
         [[[-89.04498248123966, 17.94321712431767],
           [-89.04498248123966, 17.94292112077575],
           [-89.04466061615787, 17.94292112077575],
           [-89.04466061615787, 17.94321712431767]]],
         [[[-89.04359846138797, 17.944840031488162],
           [-89.04359846138797, 17.944819617653938],
           [-89.0435662748798, 17.944819617653938],
           [-89.0435662748798, 17.944840031488162]]],
         [[[-89.04330878281436, 17.94472775537079],
           [-89.04330878281436, 17.94451340985793],
           [-89.04294400238834, 17.94451340985793],
           [-89.04294400238834, 17.94472775537079]]],
         [[[-89.04283671402774, 17.94436030576119],
           [-89.04283671402774, 17.94390099267602],
           [-89.04182820343814, 17.94390099267602],
           [-89.04182820343814, 17.94436030576119]]],
         [[[-89.02574223781987, 17.93888843585747],
           [-89.02574223781987, 17.93857201051978],
           [-89.02521652485295, 17.93857201051978],
           [-89.02521652485295, 17.93888843585747]]],
         [[[-89.02360719944402, 17.939868330088693],
           [-89.02360719944402, 17.939511077612014],
           [-89.02288836742802, 17.939511077612014],
           [-89.02288836742802, 17.939868330088693]]],
         [[[-88.74672323354191, 17.001995376149978],
           [-88.74672323354191, 17.001708097954122],
           [-88.74640136846013, 17.001708097954122],
           [-88.74640136846013, 17.001995376149978]]],
         [[[-88.73180115292344, 16.99806462021066],
           [-88.73180115292344, 16.99791071800395],
           [-88.73164558480057, 16.99791071800395],
           [-88.73164558480057, 16.99806462021066]]],
         [[[-88.73107159207139, 16.99898290075079],
           [-88.73107159207139, 16.9987877970332],
           [-88.73089993069443, 16.9987877970332],
           [-88.73089993069443, 16.99898290075079]]],
         [[[-88.78963117154306, 17.009034264220986],
           [-88.78963117154306, 17.00894449320506],
           [-88.78953192980951, 17.00894449320506],
           [-88.78953192980951, 17.009034264220986]]],
         [[[-88.789979858715, 17.009357439522024],
           [-88.789979858715, 17.00929331748283],
           [-88.78988598139948, 17.00929331748283],
           [-88.78988598139948, 17.009357439522024]]],
         [[[-88.79107688220209, 17.00881111904482],
           [-88.79107688220209, 17.008744431929088],
           [-88.79099641593164, 17.008744431929088],
           [-88.79099641593164, 17.00881111904482]]],
         [[[-88.78532622607416, 17.007233705907556],
           [-88.78532622607416, 17.007223446266437],
           [-88.78531817944712, 17.007223446266437],
           [-88.78531817944712, 17.007233705907556]]],
         [[[-88.78530208619303, 17.00720292698251],
           [-88.78530208619303, 17.007141369117257],
           [-88.78522698434061, 17.007141369117257],
           [-88.78522698434061, 17.00720292698251]]],
         [[[-88.79339050075858, 17.013150706572368],
           [-88.79339050075858, 17.013050678207737],
           [-88.79329930565207, 17.013050678207737],
           [-88.79329930565207, 17.013150706572368]]],
         [[[-88.79342805168478, 17.01333280935541],
           [-88.79342805168478, 17.013230216259995],
           [-88.7933046700701, 17.013230216259995],
           [-88.7933046700701, 17.01333280935541]]],
         [[[-88.87888070147528, 17.703810618654177],
           [-88.87888070147528, 17.702584126637444],
           [-88.87746449511542, 17.702584126637444],
           [-88.87746449511542, 17.703810618654177]]],
         [[[-88.88308640521063, 17.695265883446453],
           [-88.88308640521063, 17.69448906917276],
           [-88.88209935229315, 17.69448906917276],
           [-88.88209935229315, 17.695265883446453]]],
         [[[-88.93198347902421, 17.671945209880736],
           [-88.93198347902421, 17.67150563991618],
           [-88.93155432558183, 17.67150563991618],
           [-88.93155432558183, 17.671945209880736]]]], null, false),
    Wetlands = 
    /* color: #00ffff */
    /* shown: false */
    /* displayProperties: [
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      }
    ] */
    ee.Geometry.MultiPolygon(
        [[[[-89.00080534119918, 16.857515520456303],
           [-89.00080534119918, 16.85636552269813],
           [-88.99934621949508, 16.85636552269813],
           [-88.99934621949508, 16.857515520456303]]],
         [[[-88.94619556565597, 16.84751300190241],
           [-88.94619556565597, 16.84695851024904],
           [-88.94563766618087, 16.84695851024904],
           [-88.94563766618087, 16.84751300190241]]],
         [[[-88.34335555529658, 17.21731952357385],
           [-88.34335555529658, 17.213712169349023],
           [-88.33786239123408, 17.213712169349023],
           [-88.33786239123408, 17.21731952357385]]],
         [[[-88.35022201037471, 17.242241138236885],
           [-88.35022201037471, 17.240437713192193],
           [-88.34816207385127, 17.240437713192193],
           [-88.34816207385127, 17.242241138236885]]],
         [[[-88.31451644396846, 17.212400386729495],
           [-88.31451644396846, 17.210596670436082],
           [-88.31279983019893, 17.210596670436082],
           [-88.31279983019893, 17.212400386729495]]],
         [[[-88.3140014598376, 17.217155554453996],
           [-88.3140014598376, 17.21608975163058],
           [-88.31262816882197, 17.21608975163058],
           [-88.31262816882197, 17.217155554453996]]],
         [[[-88.30129851794307, 17.209448841818734],
           [-88.30129851794307, 17.20797305170251],
           [-88.29941024279658, 17.20797305170251],
           [-88.29941024279658, 17.209448841818734]]],
         [[[-88.3327920805877, 17.266619133097496],
           [-88.3327920805877, 17.26481594634756],
           [-88.3305604826873, 17.26481594634756],
           [-88.3305604826873, 17.266619133097496]]],
         [[[-88.3250673186248, 17.362162749540904],
           [-88.3250673186248, 17.358558232487596],
           [-88.32043246144707, 17.358558232487596],
           [-88.32043246144707, 17.362162749540904]]],
         [[[-88.33519533986504, 17.382805435566464],
           [-88.33519533986504, 17.38040453235031],
           [-88.33159045094902, 17.38040453235031],
           [-88.33159045094902, 17.382805435566464]]],
         [[[-88.3492715727752, 17.37204933016763],
           [-88.3492715727752, 17.36975567856545],
           [-88.3470399748748, 17.36975567856545],
           [-88.3470399748748, 17.37204933016763]]],
         [[[-88.65098576587746, 17.75961355958361],
           [-88.65098576587746, 17.758142226412833],
           [-88.64918332141946, 17.758142226412833],
           [-88.64918332141946, 17.75961355958361]]],
         [[[-88.89676391348539, 17.411921635803555],
           [-88.89676391348539, 17.411634993411532],
           [-88.89631330237088, 17.411634993411532],
           [-88.89631330237088, 17.411921635803555]]],
         [[[-88.90547572836576, 17.408768544758],
           [-88.90547572836576, 17.408461422592342],
           [-88.90515386328397, 17.408461422592342],
           [-88.90515386328397, 17.408768544758]]],
         [[[-88.91294299826322, 17.411225503499967],
           [-88.91294299826322, 17.410918385464008],
           [-88.91219197973905, 17.410918385464008],
           [-88.91219197973905, 17.411225503499967]]],
         [[[-88.84951411947904, 17.413313892453232],
           [-88.84951411947904, 17.412658714175056],
           [-88.84865581259427, 17.412658714175056],
           [-88.84865581259427, 17.413313892453232]]],
         [[[-88.83846898517977, 17.41586346754897],
           [-88.83846898517977, 17.415382327945537],
           [-88.83796472988497, 17.415382327945537],
           [-88.83796472988497, 17.41586346754897]]],
         [[[-88.82951048305391, 17.420304211127235],
           [-88.82951048305391, 17.41975142576679],
           [-88.8288238375461, 17.41975142576679],
           [-88.8288238375461, 17.420304211127235]]],
         [[[-88.81562363174176, 17.429646888725536],
           [-88.81562363174176, 17.428992909445853],
           [-88.81465743886041, 17.428992909445853],
           [-88.81465743886041, 17.429646888725536]]],
         [[[-88.8018686662774, 17.433373977522123],
           [-88.8018686662774, 17.43271887122701],
           [-88.80070995198297, 17.43271887122701],
           [-88.80070995198297, 17.433373977522123]]],
         [[[-88.86877413790717, 17.733846834855118],
           [-88.86877413790717, 17.733346102169218],
           [-88.86825915377631, 17.733346102169218],
           [-88.86825915377631, 17.733846834855118]]],
         [[[-88.86469718020453, 17.734449756028102],
           [-88.86469718020453, 17.733959244041248],
           [-88.86420365374579, 17.733959244041248],
           [-88.86420365374579, 17.734449756028102]]],
         [[[-88.89134419485026, 17.66951283038933],
           [-88.89134419485026, 17.669508996883135],
           [-88.89133614822322, 17.669508996883135],
           [-88.89133614822322, 17.66951283038933]]]], null, false),
    Settlements = 
    /* color: #ff0908 */
    /* shown: false */
    /* displayProperties: [
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      }
    ] */
    ee.Geometry.MultiPolygon(
        [[[[-88.31041595548758, 17.87592271356401],
           [-88.31041595548758, 17.875493855868484],
           [-88.30949327558646, 17.875493855868484],
           [-88.30949327558646, 17.87592271356401]]],
         [[[-88.31229350179801, 17.87541216857101],
           [-88.31229350179801, 17.87500373152018],
           [-88.3117141446508, 17.87500373152018],
           [-88.3117141446508, 17.87541216857101]]],
         [[[-88.18879969334152, 17.499130092176102],
           [-88.18879969334152, 17.49861847536626],
           [-88.18820960735825, 17.49861847536626],
           [-88.18820960735825, 17.499130092176102]]],
         [[[-88.1882739803746, 17.49867986945948],
           [-88.1882739803746, 17.498393363513635],
           [-88.18784482693222, 17.498393363513635],
           [-88.18784482693222, 17.49867986945948]]],
         [[[-88.19497950291183, 17.496817572737953],
           [-88.19497950291183, 17.496469669037232],
           [-88.19453962063339, 17.496469669037232],
           [-88.19453962063339, 17.496817572737953]]],
         [[[-88.24882303431052, 17.477568518104324],
           [-88.24882303431052, 17.47734849696657],
           [-88.24852799131888, 17.47734849696657],
           [-88.24852799131888, 17.477568518104324]]],
         [[[-88.29092150602973, 17.468999011195063],
           [-88.29092150602973, 17.468952958113075],
           [-88.29080617104209, 17.468952958113075],
           [-88.29080617104209, 17.468999011195063]]],
         [[[-88.29196756754554, 17.469042505761802],
           [-88.29196756754554, 17.4690092452117],
           [-88.29181199942268, 17.4690092452117],
           [-88.29181199942268, 17.469042505761802]]],
         [[[-88.35655763704086, 17.467194951139717],
           [-88.35655763704086, 17.466959566266027],
           [-88.35628941613938, 17.466959566266027],
           [-88.35628941613938, 17.467194951139717]]],
         [[[-88.76177685573676, 17.263621160428386],
           [-88.76177685573676, 17.263485407559507],
           [-88.76162933424094, 17.263485407559507],
           [-88.76162933424094, 17.263621160428386]]],
         [[[-88.76175539806464, 17.263587862564133],
           [-88.76175539806464, 17.263498214438197],
           [-88.76162933424094, 17.263498214438197],
           [-88.76162933424094, 17.263587862564133]]],
         [[[-88.76983683720796, 17.260851904309888],
           [-88.76983683720796, 17.26073407930135],
           [-88.76967322245805, 17.26073407930135],
           [-88.76967322245805, 17.260851904309888]]],
         [[[-88.96022357707172, 16.247855234406813],
           [-88.96022357707172, 16.24783463374598],
           [-88.96021016602664, 16.24783463374598],
           [-88.96021016602664, 16.247855234406813]]],
         [[[-88.96011628871112, 16.247950512435047],
           [-88.96011628871112, 16.247860384571688],
           [-88.96000631814151, 16.247860384571688],
           [-88.96000631814151, 16.247950512435047]]],
         [[[-88.80546186042861, 16.09933446239015],
           [-88.80546186042861, 16.099117992663672],
           [-88.80515608860091, 16.099117992663672],
           [-88.80515608860091, 16.09933446239015]]],
         [[[-88.80788328688352, 16.102349833253246],
           [-88.80788328688352, 16.102316332510416],
           [-88.80783768933027, 16.102316332510416],
           [-88.80783768933027, 16.102349833253246]]],
         [[[-89.0330663264114, 16.039479657518992],
           [-89.0330663264114, 16.039433257208128],
           [-89.03299122455898, 16.039433257208128],
           [-89.03299122455898, 16.039479657518992]]],
         [[[-89.03304218653027, 16.03923734466537],
           [-89.03304218653027, 16.03923734466537],
           [-89.03303413990322, 16.03923734466537],
           [-89.03303413990322, 16.03923734466537]]],
         [[[-89.03303682211224, 16.03923734466537],
           [-89.03303682211224, 16.03918836649959],
           [-89.03294830921475, 16.03918836649959],
           [-89.03294830921475, 16.03923734466537]]],
         [[[-89.03294830921475, 16.03919094429808],
           [-89.03294830921475, 16.039147121719072],
           [-89.03286247852627, 16.039147121719072],
           [-89.03286247852627, 16.03919094429808]]],
         [[[-89.03903882566898, 16.039643653220498],
           [-89.03903882566898, 16.039643653220498],
           [-89.03903882566898, 16.039643653220498],
           [-89.03903882566898, 16.039643653220498]]],
         [[[-89.03903614345997, 16.039659119975656],
           [-89.03903614345997, 16.03962303087842],
           [-89.03899591032474, 16.03962303087842],
           [-89.03899591032474, 16.039659119975656]]],
         [[[-89.03948407236545, 16.04015663329303],
           [-89.03948407236545, 16.04010249977985],
           [-89.0394196993491, 16.04010249977985],
           [-89.0394196993491, 16.04015663329303]]]], null, false),
    Otherlands = 
    /* color: #a3a5a7 */
    /* shown: false */
    /* displayProperties: [
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      }
    ] */
    ee.Geometry.MultiPolygon(
        [[[[-88.30976017839696, 16.6870006600439],
           [-88.30976017839696, 16.686965975099113],
           [-88.3097145808437, 16.686965975099113],
           [-88.3097145808437, 16.6870006600439]]],
         [[[-88.12987001229726, 17.461153240119778],
           [-88.12987001229726, 17.460999723187314],
           [-88.12965543557607, 17.460999723187314],
           [-88.12965543557607, 17.461153240119778]]],
         [[[-88.12929065515004, 17.460697806176015],
           [-88.12929065515004, 17.460605695801764],
           [-88.12913508702718, 17.460605695801764],
           [-88.12913508702718, 17.460697806176015]]],
         [[[-88.12975735951863, 17.46145003915567],
           [-88.12975735951863, 17.461378398053352],
           [-88.12967152883016, 17.461378398053352],
           [-88.12967152883016, 17.46145003915567]]],
         [[[-88.40061828432529, 16.47997716869376],
           [-88.40061828432529, 16.47997459667275],
           [-88.40061291990726, 16.47997459667275],
           [-88.40061291990726, 16.47997716869376]]],
         [[[-88.40061291990726, 16.479969452630613],
           [-88.40061291990726, 16.479936016353427],
           [-88.40050563154666, 16.479936016353427],
           [-88.40050563154666, 16.479969452630613]]],
         [[[-88.40116277275531, 16.480038897187864],
           [-88.40116277275531, 16.479987456777476],
           [-88.4010876709029, 16.479987456777476],
           [-88.4010876709029, 16.480038897187864]]]], null, false);
/***** End of imports. If edited, may not auto-convert in the playground. *****/
// Extract forest cover data for Belize for 2023 using Supervised Machine Learning
// Orig.: https://code.earthengine.google.com/?scriptPath=users%2Fbzgeo%2Fbz_lcc%3A2d_classif_2023%2Fbz_l9_s2_mod_20230608e_classif_rf_comparison
// Questions? Contact eac0021@uah.edu or emil.cherrington@nasa.gov
// Last updated: 6 Aug. 2024

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

// Load required packages
var a = require('users/servirbz/bz_mrv:x_workshop_202408/00_training_data_2023'); // loads training data for classifications
var b = require('users/bzgeo/examples:_ancillary/mes'); // Loads various ancillary datasets

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

// 'Original' band names (L9, S2 band names have been adjusted to corresponding Landsat-7 band names)
var fro_l9_s2 =  ['B1','B2','B3','B4','B5','B7']; // Blue, Green, Red, NIR, SWIR1, SWIR2
var fro_mcd = ['b1','b2','b3','b4','b6','b7']; // Blue, Green, Red, NIR, SWIR1, SWIR2

// Renamed Band names -> for use in the histogram display chart
var to_mcd =  ['B1_MCD','B2_MCD','B3_MCD','B4_MCD','B5_MCD','B7_MCD'];
var to_l9 = ['B1_L9','B2_L9','B3_L9','B4_L9','B5_L9','B7_L9'];
var to_s2 = ['B1_S2','B2_S2','B3_S2','B4_S2','B5_S2','B7_S2'];

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

// Clip L9, S2, MODIS imagery to Belize boundaries
var l9 = l9_20230608.clip(a.bz);
var s2 = s2_20230608.clip(a.bz);
var mcd = mcd43a4_202306.select(fro_mcd,fro_l9_s2).reproject('EPSG:4326', null, 500).clip(a.bz);

// The L9 and S2 data resampled to 100m are used in the supervised classification to generate 1 ha. scale data (and speed up calculations)
var l9_100m = l9_20230608.clip(a.bz).reproject('EPSG:4326', null, 100);
var s2_100m = s2_20230608.clip(a.bz).reproject('EPSG:4326', null, 100);

// The following (all resampled to 500m) are used in the histogram display exercise in the Console ->
var l9_500m = l9_20230608.clip(a.bz).updateMask(a.msk).reproject('EPSG:4326', null, 500).select(fro_l9_s2,to_l9);
var s2_500m = s2_20230608.clip(a.bz).updateMask(a.msk).reproject('EPSG:4326', null, 500).select(fro_l9_s2,to_s2);
var mcd_500m = mcd43a4_202306.clip(a.bz).updateMask(a.msk).reproject('EPSG:4326', null, 500).select(fro_mcd,to_mcd);

//
var bz_comb = ee.Image.cat([l9_500m,s2_500m,mcd_500m]);
var bz_comb_b3_b4 = bz_comb.select(['B3_L9','B3_S2','B3_MCD','B4_L9','B4_S2','B4_MCD']);


////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

// Implement supervised Random Forest classifications -> use 200 trees in all cases

// MODIS 500m data
var class_2023_mcd = mcd_500m.classify(ee.Classifier.smileRandomForest(200)
                            .train({features:mcd_500m
                            .sampleRegions({collection:a.training_2023c,properties:['class'],scale:500}),classProperty:'class',}));

// Landsat-9 data, resampled to 100m
var class_2023_l9 = l9_100m.classify(ee.Classifier.smileRandomForest(200)
                            .train({features:l9_100m
                            .sampleRegions({collection:a.training_2023c,properties:['class'],scale:100}),classProperty:'class',}));

// Sentinel-2 data, resampled to 100m
/*var class_2023_s2 = s2_100m.classify(ee.Classifier.smileRandomForest(200)
                            .train({features:s2_100m
                            .sampleRegions({collection:a.training_2023c,properties:['class'],scale:100}),classProperty:'class',}));
*/

var class_2023_s2 = s2_100m.classify(ee.Classifier.smileRandomForest(200)
                            .train({features:s2_100m
                            .sampleRegions({collection:a.training_2023c,properties:['class'],scale:100}),classProperty:'class',}));

var class_2023_ps =  ps.classify(ee.Classifier.smileRandomForest(200)
                            .train({features:ps
                            .sampleRegions({collection:a.training_2023c,properties:['class'],scale:10}),classProperty:'class',}));



////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

// Display spectral signatures derived from the training polygons

// Define colors to be used for the display of the spectral signatures
var classes = {0: {color: "green"}, 1: {color: "yellow"}, 2: {color: "moccasin"},
            3: {color: "aqua"}, 4: {color: "red"}, 5: {color: "gray"}};

// MODIS
print(ui.Chart.image.regions(
    mcd_500m.divide(100),a.training_2023c, ee.Reducer.mean(), 500, 'label', a.wl).setChartType('LineChart')
    .setOptions({title: 'Spectral reflectance - MODIS MCD43A4 (June 2023) - 500m',
          vAxis: {title: '% Reflectance'}, hAxis: {title: 'Wavelength (μm)'}, lineWidth: 1, pointSize: 4, series: classes}));

// Landsat-9
print(ui.Chart.image.regions(
    l9.divide(100), a.training_2023c, ee.Reducer.mean(), 30, 'label', a.wl).setChartType('LineChart')
    .setOptions({title: 'Spectral reflectance - Landsat-9 (8 June 2023) - 30m',
          vAxis: {title: '% Reflectance'}, hAxis: {title: 'Wavelength (μm)'}, lineWidth: 1, pointSize: 4, series: classes}));

print(ui.Chart.image.regions(
    l9_100m.divide(100), a.training_2023c, ee.Reducer.mean(), 100, 'label', a.wl).setChartType('LineChart')
    .setOptions({title: 'Spectral reflectance - Landsat-9 (8 June 2023) - 100m',
          vAxis: {title: '% Reflectance'}, hAxis: {title: 'Wavelength (μm)'}, lineWidth: 1, pointSize: 4, series: classes}));

// Sentinel-2
print(ui.Chart.image.regions(
    s2.divide(100), a.training_2023c, ee.Reducer.mean(), 20, 'label', a.wl).setChartType('LineChart')
    .setOptions({title: 'Spectral reflectance - Sentinel-2 (8 June 2023) - 20m',
          vAxis: {title: '% Reflectance'}, hAxis: {title: 'Wavelength (μm)'}, lineWidth: 1, pointSize: 4, series: classes}));

print(ui.Chart.image.regions(
    s2_100m.divide(100), a.training_2023c, ee.Reducer.mean(), 100, 'label', a.wl).setChartType('LineChart')
    .setOptions({title: 'Spectral reflectance - Sentinel-2 (8 June 2023) - 100m',
          vAxis: {title: '% Reflectance'}, hAxis: {title: 'Wavelength (μm)'}, lineWidth: 1, pointSize: 4, series: classes}));

// Display image histograms for Sentinel-2, Landsat-9, MODIS (all resampled to 500m resolution)
print(ui.Chart.image.histogram(bz_comb_b3_b4, a.bz, 500));

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

/*
// Prints the numbers of pixels that have been sampled for each class in the 10 sets of training data.

print("Number of 100m pixels sampled for each class:");

// ['forest_bl','forest_nl','forest_mg','scrub','savanna','ag_pasture','ag_crops','wetland','water','urban']; 


print(s2_100m.sampleRegions({collection:a.a.training_2023c.filter(ee.Filter.eq('class', 1)),properties:['class'],scale:100}));
print(s2_100m.sampleRegions({collection:a.a.training_2023c.filter(ee.Filter.eq('class', 2)),properties:['class'],scale:100}));
print(s2_100m.sampleRegions({collection:a.a.training_2023c.filter(ee.Filter.eq('class', 3)),properties:['class'],scale:100}));
print(s2_100m.sampleRegions({collection:a.a.training_2023c.filter(ee.Filter.eq('class', 4)),properties:['class'],scale:100}));
print(s2_100m.sampleRegions({collection:a.a.training_2023c.filter(ee.Filter.eq('class', 5)),properties:['class'],scale:100}));
print(s2_100m.sampleRegions({collection:a.a.training_2023c.filter(ee.Filter.eq('class', 6)),properties:['class'],scale:100}));
*/

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/*
// Reclass generated land cover data to forest cover data
var for_l9 = class_2023_mcd.remap([1,2,3,4,5,6,7,8,9,10],[1,1,1,2,2,2,2,2,2,2]).select(['remapped'],['fcover']);
var for_mcd = class_2023_mcd.remap([1,2,3,4,5,6,7,8,9,10],[1,1,1,2,2,2,2,2,2,2]).select(['remapped'],['fcover']);
var for_s2 = class_2023_s2.remap([1,2,3,4,5,6,7,8,9,10],[1,1,1,2,2,2,2,2,2,2]).select(['remapped'],['fcover']);

// Reclass generated land cover data to 6 class land cover data
var lc_l9 = class_2023_l9.remap([1,2,3,4,5,6,7,8,9,10],[1,1,1,3,3,3,2,4,4,5]).select(['remapped'],['fcover']);
var lc_mcd = class_2023_mcd.remap([1,2,3,4,5,6,7,8,9,10],[1,1,1,3,3,3,2,4,4,5]).select(['remapped'],['fcover']);
var lc_s2 = class_2023_s2.remap([1,2,3,4,5,6,7,8,9,10],[1,1,1,3,3,3,2,4,4,5]).select(['remapped'],['fcover']);
*/

// Color palette -> 6 IPCC classes
var pal6cl = {min:1, max:6,
palette: ['green','yellow','moccasin','aqua','red','gray']};
// 1: Forest, 2: Cropland, 3: Grassland, 4: Wetland, 5: Settlements, 6: Other land

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

// Estimate forest area and % forest cover

// Define function for extracting forest cover statistics and printing those statistics in the Console on the right ->

function fstat(img,res,aoi,year) {
// NOTE: For this function to work, we need to supply the forest cover map, the spatial resolution, AOI, and the analysis year.

// Extract area for use in % forest cover calculations below
var area_bz = ee.Number(ee.FeatureCollection(a.bz).geometry().area().divide(1000000)); // Area of Belize = 22,230 km2

// Extract forest area
var f_stat = ee.Number(img.clip(aoi).select('fcover').eq(1).multiply(ee.Image.pixelArea()).reduceRegion({
  geometry: aoi.geometry(), reducer: ee.Reducer.sum(), scale: res, maxPixels: 1e18}).get('fcover')).divide(1000000);

// Extract non-forest area
var nf_stat = ee.Number(img.clip(aoi).select('fcover').eq(2).multiply(ee.Image.pixelArea()).reduceRegion({
  geometry: aoi.geometry(), reducer: ee.Reducer.sum(), scale: res, maxPixels: 1e18}).get('fcover')).divide(1000000);

// Select which statistics are printed out
print('Year: ', year); // This prints the analysis year (defined by the operator)
print('est. forest area: ', f_stat, 'sq. km'); // This prints the forest cover extent in square kilometers
print('est. % forest cover: ', f_stat.divide(area_bz).multiply(100),'percent'); // This prints the forest cover extent in percent
//print('est. % non-forest cover: ', nf_stat.divide(roi).multiply(100),'percent'); // This prints the non-forest cover extent in percent
}

// Extract forest cover statistics for 2023 using previously defined function
/*
print("Landsat-based classification (v1)");

fstat(for_l9.reproject({crs: 'EPSG: 32616', scale: 100})
                   .reduceResolution({reducer: ee.Reducer.mode(), maxPixels: 10000, bestEffort: true}),
                   100, a.bz, 2023);

print("Sentinel-2 based classification");

fstat(for_s2.reproject({crs: 'EPSG: 32616', scale: 100})
                   .reduceResolution({reducer: ee.Reducer.mode(), maxPixels: 10000, bestEffort: true}),
                   100, a.bz, 2023);

print("MODIS-based classification");

fstat(for_mcd.reproject({crs: 'EPSG: 32616', scale: 100})
                   .reduceResolution({reducer: ee.Reducer.mode(), maxPixels: 10000, bestEffort: true}),
                   100, a.bz, 2023);

*/

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

// Add data to the map viewer below

Map.setCenter(-88.4608, 17.5117, 9);
Map.setOptions('SATELLITE');

// NOTE: We don't need to load the MODIS, L9, and S2 images in the viewer w/ this script b/c it is already done w/ the package we've loaded.

//Map.addLayer(mcd, a.viz_543, 'MCD43A4_2023-06', false);
//Map.addLayer(l9_20230608, a.viz_543, 'L9_2023-06-08', true);
//Map.addLayer(s2_20230608, a.viz_543, 'S2_2023-06-08', false);

// Load 10 class classification results
Map.addLayer(class_2023_mcd, pal6cl, 'LC10_2023_MCD43A4_01', false);
Map.addLayer(class_2023_l9, pal6cl, 'LC10_2023_L9_01', false);
Map.addLayer(class_2023_s2, pal6cl, 'LC10_2023_S2_01', true);
Map.addLayer(class_2023_ps, pal6cl, 'LC10_2023_ps_01', 0);

// Load 6 class classification results
//Map.addLayer(lc_mcd, pal6cl, 'LC6_2023_MCD43A4_01', false);
//Map.addLayer(lc_l9, pal6cl, 'LC6_2023_L9_01', false);
//Map.addLayer(lc_s2, pal6cl, 'LC6_2023_S2_01', false);

// Load ancillary reference datasets
Map.addLayer(b.bz_ws_ln.clip(b.roi_bz_),{palette: "blue"},"Watersheds (mainland)", false);
Map.addLayer(b.bz_dist_ln2.clip(b.roi_bz),{palette: "white"},"District boundaries", false);
Map.addLayer(b.pa_bz_ln.clip(b.roi_bz),{palette: "yellow"},"Prot. areas", true);
Map.addLayer(b.bnds_intl_ln2.clip(b.roi_bz),{palette: "white"},"Int'l boundaries", true);


////////////////////////////////////////////////////////////////////////////////////////////////////////////////